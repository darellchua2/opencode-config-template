{
  "$schema": "https://opencode.ai/config.json",
  "model": "zai-coding-plan/glm-4.6",
  "default_agent": "explore",
  "provider": {
    "lmstudio": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "LM Studio (local)",
      "options": {
        "baseURL": "http://127.0.0.1:1234/v1"
      },
      "models": {
        "openai/gpt-oss-20b": {
          "name": "GPT-OSS 20B (local)"
        }
      }
    }
  },
  "agent": {
    "jira-handler": {
      "description": "Reads, updates, comments on, and transitions Jira tickets via MCP",
      "mode": "subagent",
      "model": "lmstudio/openai/gpt-oss-20b",
      "prompt": "You are a Jira automation agent. Use the Atlassian MCP tools to read, comment on, update fields, and transition Jira tickets. Always confirm ticket IDs and summarize intended changes before making updates. Never modify tickets without explicit user instruction.",
      "tools": {
        "read": true,
        "write": true,
        "edit": true,
        "atlassian": true
      },
      "mcp": {
        "atlassian": {
          "type": "local",
          "command": [
            "npx",
            "-y",
            "mcp-remote",
            "https://mcp.atlassian.com/v1/sse"
          ],
          "enabled": true
        }
      }
    },
    "explore": {
      "description": "Fast agent specialized for exploring codebases. Find files by patterns, search code for keywords, and answer questions about codebase structure.",
      "mode": "primary",
      "model": "zai-coding-plan/glm-4.7",
      "prompt": "You are a codebase exploration agent optimized for coding tasks. Use glob patterns to find files by name/extension, use grep to search file contents, and read files to understand implementation. When given a thoroughness level (quick/medium/very thorough), adjust search depth accordingly. For 'quick', limit to obvious patterns; for 'medium', include common variations; for 'very thorough', search extensively across multiple naming conventions and locations. Always return specific file paths and line numbers for findings. Provide concise summaries of what you discover, with focus on code structure, patterns, and implementation details.",
      "mcp": {}
    }
  },
  "mcp": {
    "github": {
      "type": "remote",
      "url": "https://api.githubcopilot.com/mcp/",
      "oauth": {}
    },
    "atlassian": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "mcp-remote",
        "https://mcp.atlassian.com/v1/sse"
      ],
      "enabled": true
    },
    "web-reader": {
      "type": "remote",
      "url": "https://api.z.ai/api/mcp/web_reader/mcp",
      "headers": {
        "Authorization": "Bearer {env:ZAI_API_KEY}"
      }
    },
    "web-search-prime": {
      "type": "remote",
      "url": "https://api.z.ai/api/mcp/web_search_prime/mcp",
      "headers": {
        "Authorization": "Bearer {env:ZAI_API_KEY}"
      }
    },
    "zai-mcp-server": {
      "type": "local",
      "command": ["npx", "-y", "@z_ai/mcp-server"],
      "environment": {
        "Z_AI_API_KEY": "${env:ZAI_API_KEY}",
        "Z_AI_MODE": "ZAI"
      }
    },
    "zread": {
      "type": "remote",
      "url": "https://api.z.ai/api/mcp/zread/mcp",
      "headers": {
        "Authorization": "Bearer {env:ZAI_API_KEY}"
      }
    }
  }
}
